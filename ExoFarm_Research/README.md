# ExoFarm Research Project

This repository contains the source code, configurations, and results of the research project on planetary atmospheres and agricultural biosignatures (ExoFarm).

The project uses **VULCAN** (located in the sibling directory `../VULCAN`) as the chemical kinetics engine but maintains all project-specific logic, configurations, and analysis within this directory structure.

## Directory Structure

### 1. Config
Contains all configuration files necessary for the simulations.
- **Boundary_Conditions/**: Boundary Condition (BC) flux files for different scenarios (Pre-Agri, Present, ExoFarm, etc.).
- **planets/**: YAML configuration files for VULCAN, organized by planetary system (Earth-Sun, Earth-Trappist).

### 2. Results
Stores the results generated by simulations and analyses.
- **Outputs/**: Raw output files from VULCAN (`.vul`).
- **Figures/**: Plots generated by the visualization scripts.

### 3. Scripts
Contains the source code organized by functionality.

#### Simulation
Scripts to execute VULCAN simulations.
- `run_parallel_earth.py`: Runs parallel simulations for Earth (Sun) scenarios.
- `run_parallel_trappist.py`: Runs parallel simulations for TRAPPIST-1e scenarios.

#### Analysis
Scripts to process data and generate tables.
- `extract_surface_values.py`: Extracts surface mixing ratios and generates comparative tables in the terminal.
- `process_trappist_spectrum.py`: Processes stellar spectra for TRAPPIST-1.
- `compare_vulcan_outputs.py`: Utility to compare VULCAN outputs.
- `inspect_vul.py`: Utility to inspect `.vul` files.

#### Plotting
Scripts to generate visualizations (Note: most plotting logic is now centralized in `plot_results.py`).
- `plot_results.py`: Main script to generate all project figures.
- `plot_agricultural_comparison.py`: Generates comparisons of agricultural scenarios.
- `plot_profiles_with_OH.py`: Plots atmospheric profiles including OH radicals.
- `plot_spectra_comparison.py`: Compares stellar spectra.
- `plot_surface_normalized_bars.py`: Generates bar charts of normalized abundances.

## Usage

### Run Simulations
To run Earth simulations:
```bash
cd Scripts/Simulation
python run_parallel_earth.py
```

To run TRAPPIST-1e simulations:
```bash
cd Scripts/Simulation
python run_parallel_trappist.py
```

### Generate Plots
The plotting scripts read results from `Results/Outputs` and save images to `Results/Figures`.
```bash
cd Scripts/Analysis
python plot_results.py
```

### View Result Tables
To view abundance tables in the terminal:
```bash
cd Scripts/Analysis
python extract_surface_values.py
```

## Requirements
- Python 3.x
- Libraries: `numpy`, `matplotlib`, `scipy`, `pandas`
- VULCAN (configured in the parent directory)

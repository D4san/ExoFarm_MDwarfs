# ExoFarm Research Project

This repository contains the source code, configurations, and results of the research project on planetary atmospheres and agricultural biosignatures (ExoFarm).

The project uses **VULCAN** (located in the sibling directory `../VULCAN`) as the chemical kinetics engine but maintains all project-specific logic, configurations, and analysis within this directory structure.

## Directory Structure

### 1. Config
Contains all configuration files necessary for the simulations.
- **Boundary_Conditions/**: Boundary Condition (BC) flux files for different scenarios (Pre-Agri, Present, ExoFarm, etc.).
- **planets/**: YAML configuration files for VULCAN, organized by planetary system (Earth-Sun, Earth-Trappist).

### 2. Results
Stores the results generated by simulations and analyses.
- **Outputs/**: Raw output files from VULCAN (`.vul`).
- **Plots/**: Plots generated by the visualization scripts.

### 3. Scripts
Contains the source code organized by functionality.

#### Simulation
Scripts to execute VULCAN simulations.
- `run_parallel_earth.py`: Runs parallel simulations for Earth (Sun) scenarios.
- `run_parallel_trappist.py`: Runs parallel simulations for TRAPPIST-1e scenarios.

#### Analysis
Scripts to process data and generate tables.
- `extract_surface_values.py`: Extracts surface mixing ratios and generates comparative tables in the terminal.

#### Plotting
Scripts to generate visualizations.
- `run_all_plots.py`: **Master script** that executes all relevant plotting scripts in sequence.
- `plot_agricultural_comparison.py`: Generates comparisons of agricultural scenarios (Earth, 4 molecules).
- `plot_trappist_comparison.py`: Generates comparisons of agricultural scenarios (TRAPPIST-1e, 4 molecules).
- `plot_star_comparison.py`: Plots comparative profiles and trends for Earth vs TRAPPIST (4 molecules).
- `plot_OH_comparison.py`: Dedicated analysis for OH radical profiles and trends.
- `plot_spectra_comparison.py`: Compares stellar spectra.
- `plot_surface_normalized_bars.py`: Generates bar charts of normalized abundances.

## Usage

### Run Simulations
To run Earth simulations:
```bash
cd Scripts/Simulation
python run_parallel_earth.py
```

To run TRAPPIST-1e simulations:
```bash
cd Scripts/Simulation
python run_parallel_trappist.py
```

### Generate Plots
The plotting scripts read results from `Results/Outputs` and save images to `Results/Plots`.
You can generate all plots at once using the master script:
```bash
cd Scripts/Plotting
python run_all_plots.py
```

This will generate:
1. `agricultural_comparison.png`: Vertical profiles for Earth (N2O, NH3, O3, CH4).
2. `trappist_comparison.png`: Vertical profiles for TRAPPIST-1e (N2O, NH3, O3, CH4).
3. `surface_normalization_bars.png`: Normalized surface abundances vs Earth A1.
4. `star_comparison_profiles.png`: Comparative profiles (no OH).
5. `star_comparison_trends.png`: Abundance trends (no OH).
6. `star_comparison_profiles_OH.png`: Comparative profiles (OH only).
7. `star_comparison_trends_OH.png`: Abundance trends (OH only).
8. `stellar_spectra_comparison.png`: Input stellar spectra.

### View Result Tables
To view abundance tables in the terminal:
```bash
cd Scripts/Analysis
python extract_surface_values.py
```

## Requirements
- Python 3.x
- Libraries: `numpy`, `matplotlib`, `scipy`, `pandas`
- VULCAN (configured in the parent directory)
